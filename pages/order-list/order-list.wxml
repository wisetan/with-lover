<!--pages/order-list/order-list.wxml-->
<view class="order-list-container">
  <!-- Tabåˆ‡æ¢ -->
  <view class="tabs">
    <view
      class="tab-item {{currentTab === item.key ? 'tab-item--active' : ''}}"
      wx:for="{{tabs}}"
      wx:key="key"
      data-tab="{{item.key}}"
      bindtap="onTabChange"
    >
      {{item.label}}
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="order-list" wx:if="{{orderList.length > 0}}">
    <info-card
      wx:for="{{orderList}}"
      wx:key="_id"
      title="{{item.hospital}}"
      subtitle="{{item.department}} Â· {{item.serviceTimeText}}"
      bindtap="onOrderTap"
      data-id="{{item._id}}"
      arrow="{{true}}"
    >
      <view slot="extra">
        <view class="order-status" style="color: {{item.statusColor}}">
          {{item.statusText}}
        </view>
      </view>
      <view slot="content">
        <view class="order-info">
          <text class="info-label">é™ªè¯Šå¸ˆï¼š</text>
          <text class="info-value">{{item.companion ? item.companion.name : 'å¾…åˆ†é…'}}</text>
        </view>
      </view>
    </info-card>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <empty-state
    wx:if="{{!loading && orderList.length === 0}}"
    icon="ğŸ“‹"
    title="æš‚æ— è®¢å•"
    description="{{currentTab === 'all' ? 'å¿«å»é¢„çº¦ä¸€ä½è´´å¿ƒçš„é™ªè¯Šå¸ˆå§' : 'æš‚æ— æ­¤ç±»è®¢å•'}}"
    buttonText="{{currentTab === 'all' ? 'ç«‹å³é¢„çº¦' : ''}}"
    bind:buttonTap="navigateToHome"
  />

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>

