<!--pages/hospital-list/hospital-list.wxml-->
<view class="hospital-list-container">
  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-bar">
      <input
        class="search-input"
        placeholder="æœç´¢åŒ»é™¢åç§°"
        value="{{searchKeyword}}"
        bindinput="onSearchInput"
      />
      <view class="search-icon">ğŸ”</view>
    </view>
  </view>

  <!-- åŒ»é™¢åˆ—è¡¨ -->
  <view class="hospital-list" wx:if="{{hospitalList.length > 0}}">
    <info-card
      wx:for="{{hospitalList}}"
      wx:key="_id"
      title="{{item.name}}"
      subtitle="{{item.address}} {{item.distanceText ? 'Â· ' + item.distanceText : ''}}"
      bindtap="onHospitalTap"
      data-hospital="{{item}}"
      arrow="{{true}}"
    >
      <view slot="content">
        <view class="hospital-info">
          <text class="info-label">{{item.departmentCount}}ä¸ªç§‘å®¤</text>
          <text class="info-departments">{{item.departments.join('ã€')}}</text>
        </view>
      </view>
    </info-card>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <empty-state
    wx:if="{{!loading && hospitalList.length === 0}}"
    icon="ğŸ¥"
    title="æš‚æ— åŒ»é™¢"
    description="æš‚æ— åŒ»é™¢æ•°æ®"
  />

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>

