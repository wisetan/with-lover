<!--pages/companion-center/companion-center.wxml-->
<view class="companion-center-container">
  <!-- é™ªè¯Šå¸ˆä¿¡æ¯å¡ç‰‡ -->
  <view class="info-card card" wx:if="{{companionInfo}}">
    <view class="companion-header">
      <image class="companion-avatar" src="{{companionInfo.avatar}}" mode="aspectFill" />
      <view class="companion-detail">
        <view class="companion-name">{{companionInfo.name}}</view>
        <view class="companion-rating">
          <text class="star">â­</text>
          <text>{{companionInfo.rating ? companionInfo.rating.toFixed(1) : '0.0'}}</text>
          <text class="rating-count">({{companionInfo.reviewCount || 0}}è¯„ä»·)</text>
        </view>
        <view class="companion-stats">
          <text>æ¥å•æ•°ï¼š{{companionInfo.orderCount || 0}}å•</text>
        </view>
      </view>
      <view class="edit-btn" bindtap="editProfile">
        <text>ç¼–è¾‘</text>
      </view>
    </view>
  </view>

  <!-- è®¢å•ç»Ÿè®¡ -->
  <view class="stats-section card">
    <view class="section-title">è®¢å•ç»Ÿè®¡</view>
    <view class="stats-grid">
      <view class="stat-item">
        <view class="stat-value">{{orderStats.today}}</view>
        <view class="stat-label">ä»Šæ—¥</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{orderStats.week}}</view>
        <view class="stat-label">æœ¬å‘¨</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{orderStats.month}}</view>
        <view class="stat-label">æœ¬æœˆ</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{orderStats.total}}</view>
        <view class="stat-label">æ€»è®¡</view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="actions-section">
    <view class="action-item card" bindtap="viewOrders">
      <view class="action-icon">ğŸ“‹</view>
      <view class="action-title">æˆ‘çš„è®¢å•</view>
      <text class="action-arrow">â€º</text>
    </view>
    <view class="action-item card" bindtap="manageSchedule">
      <view class="action-icon">ğŸ“…</view>
      <view class="action-title">å¯é¢„çº¦æ—¶é—´</view>
      <text class="action-arrow">â€º</text>
    </view>
    <view class="action-item card" bindtap="editProfile">
      <view class="action-icon">âœï¸</view>
      <view class="action-title">ç¼–è¾‘èµ„æ–™</view>
      <text class="action-arrow">â€º</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <empty-state
    wx:if="{{!loading && !companionInfo}}"
    icon="ğŸ‘¨â€âš•ï¸"
    title="è¿˜ä¸æ˜¯é™ªè¯Šå¸ˆ"
    description="åˆ›å»ºé™ªè¯Šå¸ˆèµ„æ–™ï¼Œå¼€å§‹æ¥å•èµšé’±"
    buttonText="ç«‹å³æ³¨å†Œ"
    bind:buttonTap="editProfile"
  />
</view>

