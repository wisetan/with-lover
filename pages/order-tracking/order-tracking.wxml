<!--pages/order-tracking/order-tracking.wxml-->
<view class="order-tracking-container">
  <!-- 订单状态头部 -->
  <view class="order-header">
    <view class="order-status" style="color: {{order.statusColor || '#1890FF'}}">
      {{order.statusText}}
    </view>
    <view class="order-companion" wx:if="{{order.companion}}">
      <text class="companion-name">{{order.companion.name}}</text>
      <text class="companion-desc">正在为您服务</text>
    </view>
  </view>

  <!-- 服务流程时间轴 -->
  <view class="tracking-section">
    <view class="section-title">服务流程</view>
    <step-progress steps="{{steps}}" current="{{currentStep}}" direction="vertical" />
  </view>

  <!-- 服务详情 -->
  <view class="tracking-section">
    <view class="section-title">服务详情</view>
    <view class="info-list">
      <view class="info-item">
        <text class="info-label">医院：</text>
        <text class="info-value">{{order.hospital}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">科室：</text>
        <text class="info-value">{{order.department}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">时间：</text>
        <text class="info-value">{{order.serviceTime}}</text>
      </view>
      <view class="info-item" wx:if="{{order.companion}}">
        <text class="info-label">陪诊师：</text>
        <text class="info-value">{{order.companion.name}}</text>
      </view>
    </view>
  </view>

  <!-- 底部操作栏 -->
  <view class="fixed-bottom">
    <base-button
      type="primary"
      size="large"
      text="联系陪诊师"
      block="{{true}}"
      bindtap="contactCompanion"
    />
  </view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading}}">
    <text>加载中...</text>
  </view>
</view>

